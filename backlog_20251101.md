# HWP Report Generator 개선 프로젝트 백로그

**프로젝트명**: HWP Report Generator V2.0 - 채팅형 UI 및 템플릿 관리 기능 추가
**작성일**: 2025-11-01
**최종 업데이트**: 2025-11-01 (Jira 실제 상태 반영 버전)
**목적**: Jira 백로그 등록용 및 실제 진행 상황 추적

---

## 📋 프로젝트 개요

### 현재 시스템 분석

- **기술 스택**:
  - Backend: FastAPI (Python 3.12)
  - Frontend: React 19 + TypeScript + Vite (✅ 완료)
  - Database: SQLite
  - AI: Claude API (Anthropic) - Model: claude-sonnet-4-5-20250929
- **주요 기능**:
  - 사용자 인증 (로그인/회원가입) ✅
  - 대화형 채팅 UI를 통한 보고서 생성 ✅
  - Claude AI 콘텐츠 생성 → HWPX 파일 생성 ✅
  - Topics/Messages/Artifacts 도메인 구조 ✅
  - 보고서 이력 관리 및 다운로드 ✅
- **데이터 모델**:
  - User (사용자) ✅
  - Topic (대화 주제) ✅
  - Message (메시지) ✅
  - Artifact (생성물) ✅
  - AIUsage (AI 사용량) ✅
  - Transformation (변환 이력) ✅
  - TokenUsage (토큰 사용량) ✅

### 개선 목표

- ✅ Frontend를 React 기반 채팅형 UI로 전면 개편 (완료: 2025-10-31)
- 프롬프트 커스터마이징 기능 추가
- 템플릿 관리 기능 추가 (CRUD + 플레이스홀더 관리)
- 웹 검색 기능 연동 (진행 중)

### 팀 구성 및 역할

#### 👨‍💻 Backend Developer (1명)

**담당 영역**:

- FastAPI 기반 REST API 개발 및 유지보수
- 데이터베이스 스키마 설계 및 마이그레이션
- Claude API 통합 및 프롬프트 엔지니어링
- HWPX 파일 처리 로직 개선
- 웹 검색 API 통합
- 인증/권한 관리 시스템 유지보수

**주요 작업**:

- ✅ API 표준화 및 응답 형식 통일 (Epic 0, 완료: 2025-10-29)
- ✅ 대화형 시스템 백엔드 개발 (Epic 5, 완료: 2025-10-31)
- 템플릿 관리 CRUD API 개발 (Epic 3)
- 프롬프트 프리셋 API 개발 (Epic 2)
- 🔄 웹 검색 기능 통합 (Epic 4, 진행 중)
- 보고서 생성 로직 개선

**기술 스택**:

- Python 3.12, FastAPI, SQLite/PostgreSQL
- Anthropic Claude API
- Google Custom Search API (또는 대안)

---

#### 👩‍💻 Frontend Developer (1명)

**담당 영역**:

- React 기반 SPA 개발
- 채팅형 UI/UX 설계 및 구현
- 사용자 인증 플로우 구현
- 템플릿 관리 UI 개발
- 반응형 디자인 및 접근성

**주요 작업**:

- ✅ React 프로젝트 초기 설정 (완료: 2025-10-27)
- ✅ 채팅 인터페이스 컴포넌트 개발 (완료: 2025-10-30)
- ✅ 사용자 인증 React 통합 (완료: 2025-11-01)
- ✅ 백엔드 API 연동 (완료: 2025-10-31)
- 템플릿 관리 페이지 구현 (Epic 3)
- 프롬프트 설정 UI 개발 (Epic 2)

**기술 스택**:

- React 19, TypeScript
- React Router v6, Zustand
- Axios, Ant Design + Tailwind CSS

---

## 🎯 Epic 구조

```
Epic 0: API 표준화 및 응답 형식 통일 ✅ (완료: 2025-10-29, Jira: JKWF-20)
  ├─ JKWF-21: Story 0.1: API 공통 규격 분석 및 CLAUDE.md 문서화 ✅
  ├─ JKWF-22: Story 0.2: Auth Router 표준 응답 형식 마이그레이션 ✅
  ├─ JKWF-23: Story 0.3: Admin Router 표준 응답 형식 마이그레이션 ✅
  ├─ JKWF-24: Story 0.4: Reports Router 표준 응답 형식 마이그레이션 ✅
  └─ JKWF-25: Story 0.5: 테스트 코드 업데이트 및 검증 ✅

Epic 5: 대화형 시스템 백엔드 개발 ✅ (완료: 2025-10-31, Jira: JKWF-26)
  ├─ JKWF-27: Story 5.1: 도메인 구조 변경 및 데이터베이스 마이그레이션 ✅
  ├─ JKWF-28: Story 5.2: Topics/Messages/Artifacts API 개발 ✅
  ├─ JKWF-29: Story 5.3: 메시지 체이닝 기능 구현 ✅
  ├─ JKWF-30: Story 5.4: 아티팩트 다운로드 API 개발 ✅
  └─ JKWF-31: Story 5.5: 테스트 인프라 구축 (GitHub Actions + pytest) ✅

Epic 1: Frontend React 마이그레이션 및 채팅형 UI 구현 ✅ (완료: 2025-10-31, Jira: JKWF-1)
  ├─ JKWF-5: Story 1.1: React 프로젝트 초기 설정 ✅
  ├─ JKWF-6: Story 1.2: 채팅형 UI 컴포넌트 개발 ✅
  ├─ JKWF-7: Story 1.3: 사용자 인증 React 통합 ✅
  └─ JKWF-8: Story 1.4: 보고서 생성 채팅 플로우 구현 ✅

Epic 2: 프롬프트 커스터마이징 기능 (Jira: JKWF-2)
  ├─ JKWF-9: Story 2.1: 프롬프트 입력 UI 추가
  ├─ JKWF-10: Story 2.2: 프롬프트 프리셋 관리 기능
  └─ JKWF-11: Story 2.3: Claude API 프롬프트 통합

Epic 3: 템플릿 관리 시스템 (CRUD, Jira: JKWF-3)
  ├─ JKWF-12: Story 3.1: 템플릿 데이터 모델 및 DB 설계
  ├─ JKWF-13: Story 3.2: 템플릿 CRUD API 개발
  ├─ JKWF-14: Story 3.3: 플레이스홀더 관리 기능
  └─ JKWF-15: Story 3.4: 템플릿 관리 UI 구현

Epic 4: 웹 검색 기능 통합 (Jira: JKWF-4)
  ├─ JKWF-16: Story 4.1: 웹 검색 API 선택 및 연동 🔄 (In Progress)
  ├─ JKWF-17: Story 4.2: 검색 결과 컨텍스트 통합
  └─ JKWF-18: Story 4.3: 검색 UI 및 UX 구현
```

---

## 📝 상세 백로그

### Epic 0: API 표준화 및 응답 형식 통일 ✅ (완료: 2025-10-29)

**Jira Epic**: JKWF-20
**Story Points**: 21
**담당자**: Backend Developer
**상태**: ✅ Completed

#### Story 0.1: API 공통 규격 분석 및 CLAUDE.md 문서화 ✅

**Jira Key**: JKWF-21
**Story Points**: 3
**Priority**: Critical
**Assignee**: Backend Developer
**Status**: ✅ Completed (2025-10-29)

**Description**:
프론트엔드와 백엔드가 주고받는 모든 API가 표준 응답 형식을 따르도록 API 공통 규격을 분석하고 CLAUDE.md에 문서화

**Acceptance Criteria**:

- [x] API 공통 규격 양식(표준 응답 형식) 분석
- [x] CLAUDE.md에 "API Response Standard" 섹션 추가
- [x] 표준 응답 구조 정의 (success, data, error, meta, feedback)
- [x] ErrorCode 컨벤션 정의 (DOMAIN.DETAIL 형식)
- [x] Backend/Frontend 구현 가이드 작성
- [x] 현재 구현 상태 분석 (준수율 계산)

**Completed Work**:

- API 표준 응답 형식 CLAUDE.md 문서화
- 기존 구현 상태 분석: 46.4% 준수 (13/28 엔드포인트)
- Topics, Messages, Artifacts 라우터: 100% 준수 (참조 구현)
- Auth, Admin, Reports 라우터: 0% 준수 (마이그레이션 필요)

**Dependencies**: None

---

#### Story 0.2: Auth Router 표준 응답 형식 마이그레이션 ✅

**Jira Key**: JKWF-22
**Story Points**: 5
**Priority**: High
**Assignee**: Backend Developer
**Status**: ✅ Completed (2025-10-29)

**Description**:
Auth Router의 모든 엔드포인트를 표준 API 응답 형식으로 마이그레이션

**Acceptance Criteria**:

- [x] HTTPException 제거, error_response() 사용
- [x] 모든 성공 응답을 success_response()로 래핑
- [x] ErrorCode 상수 추가 (AUTH_DUPLICATE_EMAIL, AUTH_ACCOUNT_INACTIVE, AUTH_INVALID_PASSWORD)
- [x] 5개 엔드포인트 마이그레이션 완료
  - [x] POST /api/auth/register
  - [x] POST /api/auth/login
  - [x] GET /api/auth/me
  - [x] POST /api/auth/logout
  - [x] POST /api/auth/change-password
- [x] Google-style DocString 업데이트
- [x] 테스트 코드 업데이트 및 통과

**Technical Changes**:

```python
# Before
raise HTTPException(status_code=400, detail="이미 등록된 이메일입니다.")

# After
return error_response(
    code=ErrorCode.AUTH_DUPLICATE_EMAIL,
    http_status=400,
    message="이미 등록된 이메일입니다.",
    hint="다른 이메일 주소를 사용해주세요."
)
```

**Test Results**: 9/9 tests passed

**Dependencies**: Story 0.1

---

#### Story 0.3: Admin Router 표준 응답 형식 마이그레이션 ✅

**Jira Key**: JKWF-23
**Story Points**: 5
**Priority**: High
**Assignee**: Backend Developer
**Status**: ✅ Completed (2025-10-29)

**Description**:
Admin Router의 모든 엔드포인트를 표준 API 응답 형식으로 마이그레이션

**Acceptance Criteria**:

- [x] 6개 엔드포인트 마이그레이션 완료
  - [x] GET /api/admin/users
  - [x] PATCH /api/admin/users/{user_id}/approve
  - [x] PATCH /api/admin/users/{user_id}/reject
  - [x] POST /api/admin/users/{user_id}/reset-password
  - [x] GET /api/admin/token-usage
  - [x] GET /api/admin/token-usage/{user_id}
- [x] ErrorCode 상수 추가 (ADMIN_USER_NOT_FOUND)
- [x] 표준 응답 형식 적용
- [x] 테스트 코드 업데이트 및 통과

**Test Results**: 4/4 tests passed

**Dependencies**: Story 0.1

---

#### Story 0.4: Reports Router 표준 응답 형식 마이그레이션 ✅

**Jira Key**: JKWF-24
**Story Points**: 3
**Priority**: High
**Assignee**: Backend Developer
**Status**: ✅ Completed (2025-10-29)

**Description**:
Reports Router의 모든 엔드포인트를 표준 API 응답 형식으로 마이그레이션

**Acceptance Criteria**:

- [x] 3개 엔드포인트 마이그레이션 완료
  - [x] POST /api/reports/generate
  - [x] GET /api/reports/my-reports
  - [x] GET /api/reports/download/{report_id}
- [x] ErrorCode 상수 추가
  - REPORT_GENERATION_FAILED
  - REPORT_NOT_FOUND
  - REPORT_UNAUTHORIZED
  - REPORT_FILE_NOT_FOUND
- [x] 표준 응답 형식 적용
- [x] 테스트 코드 업데이트 및 통과

**Test Results**: 13/16 tests passed (3 skipped - DELETE endpoint not implemented)

**Dependencies**: Story 0.1

---

#### Story 0.5: 테스트 코드 업데이트 및 검증 ✅

**Jira Key**: JKWF-25
**Story Points**: 5
**Priority**: High
**Assignee**: Backend Developer
**Status**: ✅ Completed (2025-10-29)

**Description**:
마이그레이션된 모든 라우터의 테스트 코드를 표준 응답 형식에 맞게 업데이트하고 전체 테스트 통과 검증

**Acceptance Criteria**:

- [x] conftest.py fixtures 업데이트 (auth_headers, admin_auth_headers)
- [x] test_routers_auth.py 업데이트 (9개 테스트)
- [x] test_routers_admin.py 업데이트 (4개 테스트)
- [x] test_routers_reports.py 업데이트 (17개 테스트)
- [x] 전체 라우터 테스트 통과 확인
- [x] CLAUDE.md 준수율 업데이트 (46.4% → 100%)

**Test Results**:

```bash
========= 52 passed, 3 skipped, 38 deselected, 120 warnings in 57.63s =========

Overall Compliance: 100% (28/28 active endpoints) ✨
```

**Updated Files**:

- `backend/tests/conftest.py`
- `backend/tests/test_routers_auth.py`
- `backend/tests/test_routers_admin.py`
- `backend/tests/test_routers_reports.py`
- `CLAUDE.md` (준수율 표 업데이트)

**Dependencies**: Story 0.2, 0.3, 0.4

---

#### Epic 0 완료 요약

**완료일**: 2025-10-29
**총 Story Points**: 21
**소요 시간**: 1일
**담당자**: Backend Developer
**Jira Epic**: JKWF-20

**주요 성과**:

- ✅ API 표준 응답 형식 100% 준수 달성 (28/28 엔드포인트)
- ✅ 11개의 새로운 ErrorCode 상수 추가
- ✅ 14개 엔드포인트 마이그레이션 (Auth 5 + Admin 6 + Reports 3)
- ✅ 30개 테스트 케이스 업데이트
- ✅ 전체 테스트 통과율: 100% (52 passed, 3 skipped)
- ✅ CLAUDE.md 문서화 완료

**파일 변경 내역**:

- `backend/app/routers/auth.py` - 5개 엔드포인트 마이그레이션
- `backend/app/routers/admin.py` - 6개 엔드포인트 마이그레이션
- `backend/app/routers/reports.py` - 3개 엔드포인트 마이그레이션
- `backend/app/utils/response_helper.py` - 11개 ErrorCode 추가
- `backend/tests/conftest.py` - fixtures 업데이트
- `backend/tests/test_routers_auth.py` - 9개 테스트 업데이트
- `backend/tests/test_routers_admin.py` - 4개 테스트 업데이트
- `backend/tests/test_routers_reports.py` - 17개 테스트 업데이트
- `CLAUDE.md` - API 표준 문서화 및 준수율 업데이트

**다음 단계**:

- Epic 1 (Frontend React 마이그레이션)에서 표준 응답 형식 활용
- Frontend TypeScript 타입 정의 시 표준 응답 구조 반영

---

### Epic 5: 대화형 시스템 백엔드 개발 ✅ (완료: 2025-10-31)

**Jira Epic**: JKWF-26
**Story Points**: 42
**담당자**: Backend Developer
**상태**: ✅ Completed

#### Story 5.1: 도메인 구조 변경 및 데이터베이스 마이그레이션 ✅

**Jira Key**: JKWF-27
**Story Points**: 8
**Priority**: Critical
**Assignee**: Backend Developer
**Status**: ✅ Completed (2025-10-31)

**Description**:
기존 단일 보고서 생성 방식에서 대화형(채팅) 서비스로 전환하기 위한 도메인 구조 변경 및 데이터베이스 마이그레이션

**Acceptance Criteria**:

- [x] 새로운 데이터 모델 설계 및 구현
  - [x] Topic (대화 주제)
  - [x] Message (메시지)
  - [x] Artifact (생성물)
  - [x] AIUsage (AI 사용량)
  - [x] Transformation (변환 이력)
- [x] 데이터베이스 테이블 생성
- [x] 마이그레이션 스크립트 작성
- [x] 기존 데이터 호환성 확인

**Technical Changes**:

```python
# 새로운 데이터 모델
- app/models/topic.py
- app/models/message.py
- app/models/artifact.py
- app/models/ai_usage.py
- app/models/transformation.py

# 데이터베이스 레이어
- app/database/topic_db.py
- app/database/message_db.py
- app/database/artifact_db.py
- app/database/ai_usage_db.py
- app/database/transformation_db.py
```

**Documentation**:
- `backend/doc/01.대화형(채팅)서비스 전환을 위한 도메인구조변경.md`
- `backend/MIGRATION_GUIDE.md`

**Dependencies**: Epic 0

---

#### Story 5.2: Topics/Messages/Artifacts API 개발 ✅

**Jira Key**: JKWF-28
**Story Points**: 13
**Priority**: Critical
**Assignee**: Backend Developer
**Status**: ✅ Completed (2025-10-31)

**Description**:
대화형 시스템의 핵심 API 개발 (Topics, Messages, Artifacts)

**Acceptance Criteria**:

**Topics API** (5개 엔드포인트):
- [x] POST /api/topics - 새 대화 주제 생성
- [x] GET /api/topics - 사용자의 대화 주제 목록 조회
- [x] GET /api/topics/{topic_id} - 특정 대화 주제 조회
- [x] PATCH /api/topics/{topic_id} - 대화 주제 수정
- [x] DELETE /api/topics/{topic_id} - 대화 주제 삭제

**Messages API** (4개 엔드포인트):
- [x] POST /api/topics/{topic_id}/messages - 메시지 생성
- [x] GET /api/topics/{topic_id}/messages - 메시지 목록 조회
- [x] PATCH /api/messages/{message_id} - 메시지 수정
- [x] DELETE /api/messages/{message_id} - 메시지 삭제

**Artifacts API** (5개 엔드포인트):
- [x] POST /api/messages/{message_id}/artifacts - 아티팩트 생성
- [x] GET /api/artifacts/{artifact_id} - 아티팩트 조회
- [x] GET /api/topics/{topic_id}/artifacts - 토픽의 모든 아티팩트 조회
- [x] PATCH /api/artifacts/{artifact_id} - 아티팩트 수정
- [x] DELETE /api/artifacts/{artifact_id} - 아티팩트 삭제

**API Features**:
- [x] 표준 응답 형식 준수 (Epic 0)
- [x] JWT 인증 통합
- [x] 권한 검증 (본인 리소스만 접근)
- [x] 에러 핸들링 및 상세 메시지

**Test Results**:
- Topics: 5/5 tests passed
- Messages: 4/4 tests passed
- Artifacts: 5/5 tests passed
- **Overall**: 14/14 tests passed ✅

**Dependencies**: Story 5.1

---

#### Story 5.3: 메시지 체이닝 기능 구현 ✅

**Jira Key**: JKWF-29
**Story Points**: 8
**Priority**: High
**Assignee**: Backend Developer
**Status**: ✅ Completed (2025-10-31)

**Description**:
메시지를 체인 형태로 연결하여 대화 흐름을 유지하고, Claude API를 통한 연속적인 대화 기능 구현

**Acceptance Criteria**:

- [x] 메시지 체이닝 로직 구현
  - [x] 이전 메시지 참조 기능
  - [x] 대화 컨텍스트 유지
- [x] Claude API 연동
  - [x] 대화 히스토리 전달
  - [x] 스트리밍 응답 처리 준비
- [x] Markdown 파서 유틸리티
  - [x] Claude 응답 파싱
  - [x] 아티팩트 자동 추출
- [x] 파일 저장 및 버전 관리
  - [x] 아티팩트 파일 저장
  - [x] 버전별 디렉토리 구조 (`artifacts/{topic_id}/v{version}/`)

**Technical Implementation**:

```python
# 새로운 유틸리티
- app/utils/markdown_parser.py    # Markdown 파싱
- app/utils/file_utils.py          # 파일 저장
- app/utils/markdown_builder.py    # Markdown 생성

# 업데이트된 모델
- app/models/message.py            # parent_id 추가
```

**Documentation**:
- `backend/doc/04.messageChaining.md`

**Dependencies**: Story 5.2

---

#### Story 5.4: 아티팩트 다운로드 API 개발 ✅

**Jira Key**: JKWF-30
**Story Points**: 5
**Priority**: High
**Assignee**: Backend Developer
**Status**: ✅ Completed (2025-10-31)

**Description**:
생성된 아티팩트(보고서)를 다양한 형식으로 다운로드할 수 있는 API 개발

**Acceptance Criteria**:

- [x] 다운로드 API 엔드포인트
  - [x] GET /api/artifacts/{artifact_id}/download - 한글(HWPX) 다운로드
  - [x] GET /api/artifacts/{artifact_id}/download?format=md - Markdown 다운로드
- [x] 파일 형식 지원
  - [x] HWPX (한글 워드프로세서)
  - [x] Markdown
- [x] HWPX 변환 로직
  - [x] Markdown → HWPX 변환
  - [x] 템플릿 기반 생성
  - [x] 한글 인코딩 처리
- [x] 파일 스트리밍 응답
  - [x] FileResponse 사용
  - [x] Content-Disposition 헤더 설정
  - [x] 한글 파일명 인코딩

**Technical Implementation**:

```python
# 다운로드 API
GET /api/artifacts/{artifact_id}/download
  - Query params: format (hwpx, md)
  - Response: FileResponse with streaming

# HWPX 변환
- app/utils/hwp_handler.py 활용
- Markdown → HWPX 변환 로직
```

**Documentation**:
- `backend/doc/05.downloadApi.md`
- `backend/doc/03.hwpxDownload.md`

**Test Results**:
- 다운로드 API 테스트 통과 ✅
- HWPX 변환 테스트 통과 ✅

**Dependencies**: Story 5.3

---

#### Story 5.5: 테스트 인프라 구축 ✅

**Jira Key**: JKWF-31
**Story Points**: 8
**Priority**: High
**Assignee**: Backend Developer
**Status**: ✅ Completed (2025-10-31)

**Description**:
자동화된 테스트 환경 구축 및 CI/CD 파이프라인 설정

**Acceptance Criteria**:

**테스트 프레임워크 설정**:
- [x] pytest 설정 파일 (`pytest.ini`)
- [x] 테스트 환경 구성 (`conftest.py`)
- [x] 개발 의존성 관리 (`requirements-dev.txt`)

**테스트 커버리지**:
- [x] API 라우터 테스트
  - [x] test_routers_topics.py (5개 테스트)
  - [x] test_routers_messages.py (4개 테스트)
  - [x] test_routers_artifacts.py (5개 테스트)
  - [x] test_routers_auth.py (9개 테스트)
  - [x] test_routers_admin.py (4개 테스트)
  - [x] test_routers_reports.py (17개 테스트)
- [x] 유틸리티 함수 테스트
  - [x] test_utils_auth.py
  - [x] test_utils_claude_client.py
  - [x] test_utils_hwp_handler.py

**GitHub Actions CI/CD**:
- [x] 백엔드 테스트 워크플로우 구성
- [x] 자동 테스트 실행
- [x] 코드 커버리지 리포트

**개발 스크립트**:
- [x] dev_setup.sh / dev_setup.ps1 (개발 환경 설정)
- [x] start.ps1 (서버 시작 스크립트)

**Test Results**:
```bash
========= 44 passed, 3 skipped in 45.23s =========
Coverage: 78%
```

**Documentation**:
- `backend/BACKEND_TEST.md`
- `backend/.CLAUDE.md`

**Dependencies**: Story 5.2, 5.3, 5.4

---

#### Epic 5 완료 요약

**완료일**: 2025-10-31
**총 Story Points**: 42
**소요 시간**: 4일 (10/28 ~ 10/31)
**담당자**: Backend Developer
**Jira Epic**: JKWF-26

**주요 성과**:

- ✅ 대화형 시스템으로 완전 전환
- ✅ 14개 새로운 API 엔드포인트 개발
- ✅ 메시지 체이닝 및 컨텍스트 유지 기능
- ✅ HWPX 다운로드 API 개발
- ✅ 테스트 커버리지 78% 달성
- ✅ CI/CD 파이프라인 구축

**파일 변경 내역**:

**새로운 파일**:
- `backend/app/models/` - 5개 새 모델 (Topic, Message, Artifact, AIUsage, Transformation)
- `backend/app/database/` - 5개 새 DB 레이어
- `backend/app/routers/` - 3개 새 라우터 (topics.py, messages.py, artifacts.py)
- `backend/app/utils/` - 4개 새 유틸리티 (markdown_parser.py, file_utils.py, markdown_builder.py, artifact_manager.py)
- `backend/tests/` - 6개 새 테스트 파일
- `backend/doc/` - 5개 새 문서

**업데이트된 파일**:
- `backend/app/main.py` - 새 라우터 등록
- `backend/app/utils/claude_client.py` - 체이닝 기능 추가
- `backend/app/database/connection.py` - 새 테이블 초기화

**다음 단계**:

- Epic 1 (Frontend React 마이그레이션)에서 새 API 활용
- 채팅형 UI와 백엔드 API 연동

---

### Epic 1: Frontend React 마이그레이션 및 채팅형 UI 구현 ✅ (완료: 2025-10-31)

**Jira Epic**: JKWF-1
**Story Points**: 26
**담당자**: Frontend Developer
**상태**: ✅ Completed

#### Story 1.1: React 프로젝트 초기 설정 ✅

**Jira Key**: JKWF-5
**Story Points**: 5
**Priority**: Highest
**Assignee**: Frontend Developer
**Collaborators**: Backend Developer (CORS 설정 지원)
**Status**: ✅ Completed (2025-10-27)

**Description**:
React 19 + TypeScript + Vite 프로젝트 초기 설정 및 개발 환경 구축

**Acceptance Criteria**:

- [x] React 19 + Vite 프로젝트 생성
- [x] TypeScript 설정
- [x] 프로젝트 폴더 구조 설계 (src/components, src/pages, src/services, src/hooks)
- [x] Axios 기반 API 클라이언트 설정
- [x] React Router 설정 (로그인, 메인, 관리자 페이지 라우팅)
- [x] Ant Design + Tailwind CSS 설치 및 설정
- [x] 환경 변수 설정 (.env 파일로 Backend API URL 관리)
- [x] 기존 Backend와 CORS 설정 확인 및 테스트
- [x] API 표준 응답 형식 TypeScript 타입 정의

**Technical Stack**:

```bash
# 기술 스택
- React 19
- TypeScript
- Vite (빠른 개발 서버)
- React Router v6
- Axios
- Zustand (상태 관리)
- Ant Design + Tailwind CSS
```

**Dependencies**: None

---

#### Story 1.2: 채팅형 UI 컴포넌트 개발 ✅

**Jira Key**: JKWF-6
**Story Points**: 8
**Priority**: High
**Assignee**: Frontend Developer
**Status**: ✅ Completed (2025-10-30)

**Description**:
사용자와 AI가 대화하는 형태의 채팅 UI 컴포넌트 개발

**Acceptance Criteria**:

- [x] 채팅 메시지 컴포넌트 개발 (사용자 메시지, AI 응답 메시지)
- [x] 채팅 입력창 컴포넌트 (텍스트 입력, 전송 버튼)
- [x] 메시지 히스토리 표시 (스크롤 자동 하단 이동)
- [x] 타이핑 인디케이터 (AI 응답 대기 중 애니메이션)
- [x] 메시지 타임스탬프 표시
- [x] 반응형 디자인 (모바일, 태블릿, 데스크톱)
- [x] Markdown 렌더링 지원

**Design Reference**:

```
┌─────────────────────────────────┐
│  HWP Report Generator 💬        │
├─────────────────────────────────┤
│                                 │
│  [AI] 안녕하세요! 보고서 주제를 │
│      입력해주세요.               │
│                        09:30    │
│                                 │
│              [User] 2025년 디지털│
│                     뱅킹 트렌드  │
│                        09:31    │
│                                 │
│  [AI] 네, 보고서를 생성하고      │
│      있습니다...                │
│                        09:31    │
│                                 │
├─────────────────────────────────┤
│  메시지 입력...         [📎][전송]│
└─────────────────────────────────┘
```

**Technical Notes**:

- 상태 관리: 메시지 배열 (id, role, content, timestamp)
- Markdown 렌더링: react-markdown 사용

**Dependencies**: Story 1.1

---

#### Story 1.3: 사용자 인증 React 통합 ✅

**Jira Key**: JKWF-7
**Story Points**: 5
**Priority**: High
**Assignee**: Frontend Developer
**Status**: ✅ Completed (2025-11-01)

**Description**:
기존 Backend 인증 시스템과 React Frontend 통합

**Acceptance Criteria**:

- [x] 로그인 페이지 React 컴포넌트 개발
- [x] 회원가입 페이지 React 컴포넌트 개발
- [x] JWT 토큰 저장 및 관리 (LocalStorage)
- [x] Axios Interceptor 설정 (자동 토큰 첨부)
- [x] 인증 상태 관리 (Zustand)
- [x] Protected Route 구현 (미인증 시 로그인 페이지로 리다이렉트)
- [x] 로그아웃 기능 구현
- [x] 토큰 만료 처리 (자동 로그아웃)

**API Endpoints**:

```
POST /api/auth/login
POST /api/auth/register
GET /api/auth/me (현재 사용자 정보)
POST /api/auth/logout
```

**Technical Notes**:

- JWT 토큰을 Authorization Header에 Bearer 형식으로 전송
- 기존 Backend의 `/api/auth` 라우터 활용

**Dependencies**: Story 1.1

---

#### Story 1.4: 보고서 생성 채팅 플로우 구현 ✅

**Jira Key**: JKWF-8
**Story Points**: 8
**Priority**: High
**Assignee**: Frontend Developer
**Collaborators**: Backend Developer (API 연동 지원)
**Status**: ✅ Completed (2025-10-31)

**Description**:
채팅 UI를 통해 보고서를 생성하는 사용자 플로우 구현 (Epic 5 백엔드 API 연동)

**Acceptance Criteria**:

- [x] Topic 생성 API 연동
- [x] Message 생성 API 연동
- [x] 보고서 생성 요청 시 로딩 상태 표시
- [x] 생성된 보고서 다운로드 링크 표시 (채팅 메시지 내)
- [x] 보고서 생성 실패 시 에러 메시지 표시
- [x] AI 응답 메시지 표시 (Markdown 렌더링)
- [x] 대화 히스토리를 채팅 메시지로 표시
- [x] 다운로드 버튼 클릭 시 파일 다운로드

**User Flow**:

```
1. User: "2025년 디지털 뱅킹 트렌드 보고서 작성해줘"
2. AI: "보고서를 생성하고 있습니다... (로딩)"
3. AI: "보고서가 완성되었습니다! [다운로드]"
4. User clicks [다운로드] → HWPX 파일 다운로드
```

**API Integration**:

```
POST /api/topics
GET /api/topics
POST /api/topics/{topic_id}/messages
GET /api/topics/{topic_id}/messages
GET /api/artifacts/{artifact_id}/download
```

**Technical Notes**:

- 보고서 생성 API 호출 후 응답에서 artifact_id 수신
- 다운로드 링크 생성: `/api/artifacts/{artifact_id}/download`

**Dependencies**: Story 1.2, Story 1.3

---

#### Epic 1 완료 요약

**완료일**: 2025-10-31
**총 Story Points**: 26
**소요 시간**: 5일 (10/27 ~ 11/01)
**담당자**: Frontend Developer
**Jira Epic**: JKWF-1

**주요 성과**:

- ✅ React 19 + TypeScript + Vite 프로젝트 구축
- ✅ 채팅형 UI 완전 구현
- ✅ JWT 인증 시스템 통합
- ✅ Epic 5 백엔드 API 완전 연동
- ✅ Markdown 렌더링 및 HWPX 다운로드 기능

**파일 변경 내역**:

**새로운 파일**:
- `frontend/src/components/` - 채팅 UI 컴포넌트
- `frontend/src/pages/` - 페이지 컴포넌트 (로그인, 메인, 관리자)
- `frontend/src/services/` - API 클라이언트 서비스
- `frontend/src/hooks/` - 커스텀 훅
- `frontend/src/stores/` - Zustand 상태 관리
- `frontend/src/types/` - TypeScript 타입 정의

**기술 스택**:
- React 19 + TypeScript
- Vite
- React Router v6
- Axios
- Zustand
- Ant Design + Tailwind CSS
- React Markdown

**다음 단계**:

- Epic 2 (프롬프트 커스터마이징) 시작 가능
- Epic 3 (템플릿 관리) 시작 가능

---

### Epic 2: 프롬프트 커스터마이징 기능

**Jira Epic**: JKWF-2
**Story Points**: 18
**우선순위**: Medium
**상태**: To Do

#### Story 2.1: 프롬프트 입력 UI 추가

**Jira Key**: JKWF-9
**Story Points**: 5
**Priority**: Medium
**Assignee**: Frontend Developer

**Description**:
사용자가 보고서 생성 시 사용할 프롬프트를 직접 입력하거나 수정할 수 있는 UI 추가

**Acceptance Criteria**:

- [ ] 채팅 입력창 옆에 "프롬프트 설정" 버튼 추가
- [ ] 프롬프트 설정 모달/사이드바 UI 개발
- [ ] 시스템 프롬프트 입력 필드 (Textarea)
- [ ] 사용자 프롬프트 템플릿 입력 필드
- [ ] 기본 프롬프트로 되돌리기 버튼
- [ ] 프롬프트 미리보기 기능
- [ ] 저장 및 적용 버튼

**UI Mockup**:

```
┌─────────────────────────────────┐
│  프롬프트 설정 ⚙️                │
├─────────────────────────────────┤
│  시스템 프롬프트:                │
│  ┌───────────────────────────┐  │
│  │ 당신은 금융 업무 보고서를  │  │
│  │ 작성하는 전문가입니다...   │  │
│  └───────────────────────────┘  │
│                                 │
│  사용자 프롬프트 템플릿:         │
│  ┌───────────────────────────┐  │
│  │ 주제: {topic}              │  │
│  │ 다음 섹션을 포함해주세요:  │  │
│  │ - 배경 및 목적             │  │
│  │ - 주요 내용                │  │
│  └───────────────────────────┘  │
│                                 │
│  [기본값으로] [미리보기] [적용]  │
└─────────────────────────────────┘
```

**Technical Notes**:

- 프롬프트 상태는 Zustand로 관리
- LocalStorage에 저장하여 재방문 시 복원

**Dependencies**: Epic 1 (Story 1.4)

---

#### Story 2.2: 프롬프트 프리셋 관리 기능

**Jira Key**: JKWF-10
**Story Points**: 8
**Priority**: Medium
**Assignee**: Backend Developer
**Collaborators**: Frontend Developer (UI 개발)

**Description**:
사용자가 자주 사용하는 프롬프트를 프리셋으로 저장하고 관리하는 기능

**Acceptance Criteria**:

**Backend**:

- [ ] PromptPreset 데이터 모델 생성 (id, user_id, name, system_prompt, user_prompt_template, created_at)
- [ ] 프리셋 CRUD API 개발
  - `POST /api/prompts/presets` (생성)
  - `GET /api/prompts/presets` (목록 조회)
  - `PUT /api/prompts/presets/{id}` (수정)
  - `DELETE /api/prompts/presets/{id}` (삭제)
- [ ] 사용자별 프리셋 격리 (본인 프리셋만 조회/수정/삭제)

**Frontend**:

- [ ] 프리셋 목록 UI (드롭다운 또는 리스트)
- [ ] 프리셋 선택 시 프롬프트 자동 적용
- [ ] 새 프리셋 저장 기능
- [ ] 프리셋 수정/삭제 기능

**Database Schema**:

```sql
CREATE TABLE prompt_presets (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    name TEXT NOT NULL,
    system_prompt TEXT,
    user_prompt_template TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);
```

**Technical Notes**:

- 프리셋은 사용자별로 관리 (user_id FK)
- 기본 프리셋 1개 제공 (시스템 프리셋)

**Dependencies**: Story 2.1

---

#### Story 2.3: Claude API 프롬프트 통합

**Jira Key**: JKWF-11
**Story Points**: 5
**Priority**: Medium
**Assignee**: Backend Developer

**Description**:
사용자 커스텀 프롬프트를 Claude API 요청에 통합

**Acceptance Criteria**:

- [ ] `/api/topics/{topic_id}/messages` API 수정: 요청 Body에 `custom_prompt` 필드 추가 (선택)
- [ ] ClaudeClient 클래스 수정: `generate_response()` 메서드가 커스텀 프롬프트를 받을 수 있도록 수정
- [ ] 커스텀 프롬프트가 없을 경우 기본 프롬프트 사용
- [ ] 프롬프트 변수 치환 (예: `{topic}` → 실제 주제)
- [ ] 프롬프트 검증 (길이 제한, 금지어 필터링 등)

**API Request Example**:

```json
POST /api/topics/{topic_id}/messages
{
  "content": "2025년 디지털 뱅킹 트렌드",
  "custom_prompt": {
    "system_prompt": "당신은 금융 전문가입니다.",
    "user_prompt_template": "주제: {topic}\n다음 섹션을 포함해주세요..."
  }
}
```

**Technical Notes**:

- `utils/claude_client.py` 수정
- 프롬프트 템플릿 엔진 (str.format() 사용)

**Dependencies**: Story 2.2

---

### Epic 3: 템플릿 관리 시스템 (CRUD)

**Jira Epic**: JKWF-3
**Story Points**: 29
**우선순위**: High
**상태**: To Do

#### Story 3.1: 템플릿 데이터 모델 및 DB 설계

**Jira Key**: JKWF-12
**Story Points**: 5
**Priority**: High
**Assignee**: Backend Developer

**Description**:
HWPX 템플릿을 데이터베이스에서 관리할 수 있도록 데이터 모델 및 스키마 설계

**Acceptance Criteria**:

- [ ] Template 테이블 설계
  - id, user_id (템플릿 소유자), name, description, file_path, is_public, created_at, updated_at
- [ ] TemplatePlaceholder 테이블 설계
  - id, template_id, placeholder_key, placeholder_name, description, default_value, is_required
- [ ] Pydantic 모델 생성 (Template, TemplatePlaceholder)
- [ ] 데이터베이스 마이그레이션 스크립트 작성

**Database Schema**:

```sql
CREATE TABLE templates (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER,  -- NULL이면 시스템 기본 템플릿
    name TEXT NOT NULL,
    description TEXT,
    file_path TEXT NOT NULL,  -- HWPX 파일 경로
    is_public BOOLEAN DEFAULT FALSE,  -- 다른 사용자 사용 가능 여부
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE TABLE template_placeholders (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    template_id INTEGER NOT NULL,
    placeholder_key TEXT NOT NULL,  -- 예: TITLE, BACKGROUND, MAIN_CONTENT
    placeholder_name TEXT NOT NULL,  -- 한글명: 제목, 배경 및 목적
    description TEXT,
    default_value TEXT,
    is_required BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (template_id) REFERENCES templates(id) ON DELETE CASCADE
);
```

**Pydantic Models**:

```python
class Template(BaseModel):
    id: Optional[int]
    user_id: Optional[int]
    name: str
    description: Optional[str]
    file_path: str
    is_public: bool = False
    created_at: Optional[datetime]
    updated_at: Optional[datetime]

class TemplatePlaceholder(BaseModel):
    id: Optional[int]
    template_id: int
    placeholder_key: str
    placeholder_name: str
    description: Optional[str]
    default_value: Optional[str]
    is_required: bool = True
    created_at: Optional[datetime]
```

**Dependencies**: None

---

#### Story 3.2: 템플릿 CRUD API 개발

**Jira Key**: JKWF-13
**Story Points**: 8
**Priority**: High
**Assignee**: Backend Developer

**Description**:
템플릿을 생성, 조회, 수정, 삭제할 수 있는 REST API 개발

**Acceptance Criteria**:

- [ ] 템플릿 CRUD API 엔드포인트 개발
  - `POST /api/templates` (생성)
  - `GET /api/templates` (목록)
  - `GET /api/templates/{id}` (조회)
  - `PUT /api/templates/{id}` (수정)
  - `DELETE /api/templates/{id}` (삭제)
- [ ] 템플릿 파일 업로드 기능 (multipart/form-data)
- [ ] 표준 응답 형식 준수
- [ ] 권한 검증 (본인 또는 public 템플릿만 조회 가능)
- [ ] 파일 저장 경로: `backend/templates/user_{user_id}/`

**API Endpoints**:

```python
POST /api/templates
  - Body: multipart/form-data (file, name, description, is_public)
  - Response: Template 객체

GET /api/templates
  - Query: ?is_public=true (선택)
  - Response: List[Template]

GET /api/templates/{id}
  - Response: Template 객체 + placeholders

PUT /api/templates/{id}
  - Body: JSON (name, description, is_public)
  - Response: Updated Template

DELETE /api/templates/{id}
  - Response: Success message
```

**Dependencies**: Story 3.1

---

#### Story 3.3: 플레이스홀더 관리 기능

**Jira Key**: JKWF-14
**Story Points**: 8
**Priority**: High
**Assignee**: Backend Developer

**Description**:
HWPX 템플릿에서 플레이스홀더를 자동 감지하고 관리하는 기능

**Acceptance Criteria**:

- [ ] HWPX 파일 파싱하여 플레이스홀더 자동 감지
  - `{{TITLE}}`, `{{BACKGROUND}}` 등 감지
- [ ] 플레이스홀더 CRUD API
  - `POST /api/templates/{id}/placeholders`
  - `GET /api/templates/{id}/placeholders`
  - `PUT /api/placeholders/{id}`
  - `DELETE /api/placeholders/{id}`
- [ ] 플레이스홀더 validation (필수 필드 체크)
- [ ] 기본 플레이스홀더 세트 제공
  - TITLE, DATE, BACKGROUND, MAIN_CONTENT, CONCLUSION, SUMMARY

**Technical Implementation**:

```python
# HWPX 파일 파싱
def extract_placeholders(hwpx_path: str) -> List[str]:
    """HWPX 파일에서 {{PLACEHOLDER}} 패턴 추출"""
    placeholders = []
    # unzip HWPX → parse XML → find {{...}} patterns
    return placeholders
```

**Dependencies**: Story 3.2

---

#### Story 3.4: 템플릿 관리 UI 구현

**Jira Key**: JKWF-15
**Story Points**: 8
**Priority**: High
**Assignee**: Frontend Developer

**Description**:
템플릿을 업로드하고 관리할 수 있는 UI 구현

**Acceptance Criteria**:

- [ ] 템플릿 목록 페이지
  - 템플릿 카드 UI (이름, 설명, 플레이스홀더 개수)
  - 필터: 내 템플릿 / 공개 템플릿
- [ ] 템플릿 업로드 폼
  - 파일 선택 (HWPX)
  - 이름, 설명 입력
  - 공개 여부 설정
- [ ] 템플릿 수정/삭제 UI
  - 템플릿 정보 수정 모달
  - 삭제 확인 다이얼로그
- [ ] 플레이스홀더 미리보기
  - 플레이스홀더 목록 표시
  - 필수/선택 여부 표시
- [ ] 템플릿 선택 기능
  - 보고서 생성 시 템플릿 선택 드롭다운

**UI Flow**:

```
1. 템플릿 관리 페이지 접속
2. "새 템플릿 업로드" 버튼 클릭
3. HWPX 파일 선택
4. 이름, 설명 입력
5. "업로드" 버튼 클릭
6. 플레이스홀더 자동 감지 및 표시
7. 플레이스홀더 설정 (필수/선택, 기본값)
8. "저장" 버튼 클릭
```

**Dependencies**: Story 3.3

---

### Epic 4: 웹 검색 기능 통합

**Jira Epic**: JKWF-4
**Story Points**: 18
**우선순위**: Low
**상태**: In Progress (Story 4.1 진행 중)

#### Story 4.1: 웹 검색 API 선택 및 연동 🔄

**Jira Key**: JKWF-16
**Story Points**: 8
**Priority**: Low
**Assignee**: Backend Developer
**Status**: 🔄 In Progress

**Description**:
보고서 생성 시 최신 정보를 검색하여 컨텍스트에 포함할 수 있도록 웹 검색 API 연동

**Acceptance Criteria**:

- [ ] 웹 검색 API 선택 (Google Custom Search, Bing, DuckDuckGo 등)
- [ ] API 키 설정 및 환경 변수 관리
- [ ] 검색 API 클라이언트 클래스 개발
  - `class WebSearchClient`
  - `async def search(query: str, max_results: int = 5) -> List[SearchResult]`
- [ ] 검색 결과 파싱 및 요약
- [ ] 에러 핸들링 (API 제한, 네트워크 오류)

**Technical Notes**:

- 권장: Google Custom Search API 또는 SerpAPI
- 검색 결과는 최대 5개로 제한
- 환경 변수: `GOOGLE_SEARCH_API_KEY`, `GOOGLE_SEARCH_ENGINE_ID`

**API Response Example**:

```python
class SearchResult(BaseModel):
    title: str
    url: str
    snippet: str
```

**Dependencies**: None

---

#### Story 4.2: 검색 결과 컨텍스트 통합

**Jira Key**: JKWF-17
**Story Points**: 5
**Priority**: Low
**Assignee**: Backend Developer

**Description**:
웹 검색 결과를 Claude API의 컨텍스트에 포함하여 최신 정보 기반 보고서 생성

**Acceptance Criteria**:

- [ ] 검색 결과를 Claude API 프롬프트에 포함
  - 검색어 생성: 사용자 메시지에서 키워드 추출
  - 검색 수행: WebSearchClient 사용
  - 검색 결과를 시스템 프롬프트에 추가
- [ ] 검색 결과 요약 기능
  - Claude API를 사용하여 검색 결과 요약
- [ ] 검색 결과 출처 표시
  - 보고서에 출처 링크 포함
- [ ] 검색 결과 캐싱 (선택)
  - Redis 또는 메모리 캐시 사용

**System Prompt Example**:

```
당신은 보고서 작성 전문가입니다.

다음은 웹 검색 결과입니다:

1. [제목]: 2025년 디지털 뱅킹 트렌드
   출처: https://example.com/article1
   요약: 디지털 뱅킹 시장은 2025년 30% 성장 예상...

2. [제목]: AI 기반 금융 서비스
   출처: https://example.com/article2
   요약: AI 기반 금융 서비스는 고객 경험 개선...

위 정보를 참고하여 보고서를 작성해주세요.
```

**Dependencies**: Story 4.1

---

#### Story 4.3: 검색 UI 및 UX 구현

**Jira Key**: JKWF-18
**Story Points**: 5
**Priority**: Low
**Assignee**: Frontend Developer

**Description**:
사용자가 웹 검색 기능을 활성화하고 검색 결과를 확인할 수 있는 UI

**Acceptance Criteria**:

- [ ] 웹 검색 활성화 토글 버튼
  - 채팅 입력창 옆에 "웹 검색" 토글
  - 활성화 시 아이콘 색상 변경
- [ ] 검색 결과 미리보기 UI
  - AI 응답 메시지에 "검색 결과 참고" 섹션 표시
  - 검색 결과 카드 (제목, 출처 링크, 요약)
- [ ] 검색 결과 출처 링크
  - 클릭 시 새 탭에서 열기
- [ ] 로딩 상태 표시
  - 검색 중 스피너 표시

**UI Mockup**:

```
┌─────────────────────────────────┐
│  [AI] 보고서를 생성하고 있습니다│
│                                 │
│  📚 웹 검색 결과:                │
│  ┌───────────────────────────┐  │
│  │ 1. 2025년 디지털 뱅킹 트렌드│  │
│  │    🔗 example.com/article1 │  │
│  │    요약: 디지털 뱅킹 시장...│  │
│  └───────────────────────────┘  │
│  ┌───────────────────────────┐  │
│  │ 2. AI 기반 금융 서비스     │  │
│  │    🔗 example.com/article2 │  │
│  │    요약: AI 기반 금융...   │  │
│  └───────────────────────────┘  │
│                                 │
│  위 정보를 참고하여 보고서를...  │
└─────────────────────────────────┘
```

**Dependencies**: Story 4.2

---

## 🏗️ 기술적 고려사항

### Frontend (React)

**완료된 구현** ✅:

- React 19 + TypeScript + Vite 설정
- Ant Design + Tailwind CSS UI 라이브러리
- Zustand 상태 관리
- Axios Interceptor로 JWT 토큰 자동 첨부
- Protected Routes 구현
- Markdown 렌더링 (react-markdown)

**예정된 구현**:

- 프롬프트 설정 UI (Epic 2)
- 템플릿 관리 페이지 (Epic 3)
- 웹 검색 토글 및 결과 표시 (Epic 4)

### Backend (FastAPI)

**완료된 구현** ✅:

- API 표준 응답 형식 100% 준수
- Topics/Messages/Artifacts 도메인 구조
- 메시지 체이닝 기능
- HWPX 다운로드 API (Markdown → HWPX 변환)
- pytest 기반 테스트 (78% 커버리지)
- GitHub Actions CI/CD

**예정된 구현**:

- 프롬프트 프리셋 CRUD API (Epic 2)
- 템플릿 CRUD API (Epic 3)
- 플레이스홀더 자동 감지 (Epic 3)
- 웹 검색 API 통합 (Epic 4)

### 환경 변수 추가

**현재 환경 변수** (`.env`):

```
# Claude API
CLAUDE_API_KEY=your_api_key_here
CLAUDE_MODEL=claude-sonnet-4-5-20250929

# JWT Configuration
JWT_SECRET_KEY=your-secret-key-change-this
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# Admin Account
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=admin123!@#
ADMIN_USERNAME=관리자
```

**추가 필요** (Epic 4):

```
# Google Custom Search API (Epic 4)
GOOGLE_SEARCH_API_KEY=your_google_search_api_key
GOOGLE_SEARCH_ENGINE_ID=your_search_engine_id
```

---

## 📅 개발 일정 (2025년 10월~12월 - 실제 진행 현황)

### ✅ 완료된 개발 일정 (2025년 10월)

#### Phase 0: API 표준화 (2025-10-29 완료) ✅

**Epic 0: API 표준화 및 응답 형식 통일** (Jira: JKWF-20)

| Story | Jira Key | 완료일     | 작업 내용                            | Story Points | 담당자      |
| ----- | -------- | ---------- | ------------------------------------ | ------------ | ----------- |
| 0.1   | JKWF-21  | 10/29 (화) | API 공통 규격 분석 및 CLAUDE.md 문서화 | 3            | Backend Dev |
| 0.2   | JKWF-22  | 10/29 (화) | Auth Router 표준 응답 형식 마이그레이션 | 5            | Backend Dev |
| 0.3   | JKWF-23  | 10/29 (화) | Admin Router 표준 응답 형식 마이그레이션 | 5            | Backend Dev |
| 0.4   | JKWF-24  | 10/29 (화) | Reports Router 표준 응답 형식 마이그레이션 | 3            | Backend Dev |
| 0.5   | JKWF-25  | 10/29 (화) | 테스트 코드 업데이트 및 검증         | 5            | Backend Dev |

**완료 성과**: 21 Story Points, 14개 엔드포인트 마이그레이션, 30개 테스트 통과

---

#### Phase 5: 대화형 시스템 백엔드 (2025-10-31 완료) ✅

**Epic 5: 대화형 시스템 백엔드 개발** (Jira: JKWF-26)

| Story | Jira Key | 완료일     | 작업 내용                                  | Story Points | 담당자      |
| ----- | -------- | ---------- | ------------------------------------------ | ------------ | ----------- |
| 5.1   | JKWF-27  | 10/31 (목) | 도메인 구조 변경 및 데이터베이스 마이그레이션 | 8            | Backend Dev |
| 5.2   | JKWF-28  | 10/31 (목) | Topics/Messages/Artifacts API 개발        | 13           | Backend Dev |
| 5.3   | JKWF-29  | 10/31 (목) | 메시지 체이닝 기능 구현                    | 8            | Backend Dev |
| 5.4   | JKWF-30  | 10/31 (목) | 아티팩트 다운로드 API 개발                 | 5            | Backend Dev |
| 5.5   | JKWF-31  | 10/31 (목) | 테스트 인프라 구축 (GitHub Actions + pytest) | 8            | Backend Dev |

**완료 성과**: 42 Story Points, 14개 엔드포인트, 44개 테스트 통과, 78% 코드 커버리지

---

#### Phase 1: Frontend React 마이그레이션 (2025-10-27 ~ 11-01 완료) ✅

**Epic 1: Frontend React 마이그레이션 및 채팅형 UI 구현** (Jira: JKWF-1)

| Story | Jira Key | 완료일     | 작업 내용                    | Story Points | 담당자       |
| ----- | -------- | ---------- | ---------------------------- | ------------ | ------------ |
| 1.1   | JKWF-5   | 10/27 (일) | React 프로젝트 초기 설정     | 5            | Frontend Dev |
| 1.2   | JKWF-6   | 10/30 (수) | 채팅형 UI 컴포넌트 개발      | 8            | Frontend Dev |
| 1.3   | JKWF-7   | 11/01 (금) | 사용자 인증 React 통합       | 5            | Frontend Dev |
| 1.4   | JKWF-8   | 10/31 (목) | 보고서 생성 채팅 플로우 구현 | 8            | Frontend Dev |

**완료 성과**: 26 Story Points, React 19 + TypeScript + Vite 전환 완료, API 표준 응답 형식 통합

---

### 📊 2025년 10월 완료 요약

**완료된 Epic**: 3개 (Epic 0, 5, 1)
**완료된 Story Points**: 89 / 154 (57.8%)
**완료된 Story**: 14개
**진행률**: Phase 0, 5, 1 완료 → Phase 2, 3, 4 남음

---

### 🔄 진행 중 (2025년 11월 1주차)

**Epic 4: 웹 검색 기능 통합** (Jira: JKWF-4)

| Story | Jira Key | 시작일   | 작업 내용                   | Story Points | 상태       | 담당자      |
| ----- | -------- | -------- | --------------------------- | ------------ | ---------- | ----------- |
| 4.1   | JKWF-16  | 11/01 (금) | 웹 검색 API 선택 및 연동    | 8            | 🔄 진행 중 | Backend Dev |
| 4.2   | JKWF-17  | 대기     | 검색 결과 컨텍스트 통합     | 5            | 📋 대기    | Backend Dev |
| 4.3   | JKWF-18  | 대기     | 검색 UI 및 UX 구현          | 5            | 📋 대기    | Both        |

**목표**: Epic 4 완료 (18 Story Points)

---

### 📅 예정된 개발 일정 (2025년 11월~12월)

#### 2025년 11월 2-3주차 - Epic 4 완료 및 Epic 3 시작

**Epic 4 완료** (예상: 11월 1-2주):
- Story 4.1: 웹 검색 API 선택 및 연동 (8 SP) 🔄
- Story 4.2: 검색 결과 컨텍스트 통합 (5 SP)
- Story 4.3: 검색 UI 및 UX 구현 (5 SP)

**Epic 3 시작** (예상: 11월 3-4주):

| Story | Jira Key | 예상 시작일 | 작업 내용                     | Story Points | 담당자      |
| ----- | -------- | ----------- | ----------------------------- | ------------ | ----------- |
| 3.1   | JKWF-12  | 11/11       | 템플릿 데이터 모델 및 DB 설계 | 5            | Backend Dev |
| 3.2   | JKWF-13  | 11/14       | 템플릿 CRUD API 개발          | 8            | Backend Dev |
| 3.3   | JKWF-14  | 11/18       | 플레이스홀더 자동 감지 기능   | 8            | Backend Dev |
| 3.4   | JKWF-15  | 11/21       | 템플릿 관리 UI 개발           | 8            | Frontend Dev |

---

#### 2025년 12월 1-2주차 - Epic 2 프롬프트 커스터마이징

**Epic 2: 프롬프트 커스터마이징 기능** (Jira: JKWF-2)

| Story | Jira Key | 예상 시작일 | 작업 내용                      | Story Points | 담당자       |
| ----- | -------- | ----------- | ------------------------------ | ------------ | ------------ |
| 2.1   | JKWF-9   | 12/02       | 프롬프트 데이터 모델 및 DB 설계 | 3            | Backend Dev  |
| 2.2   | JKWF-10  | 12/04       | 프롬프트 CRUD API 개발         | 8            | Backend Dev  |
| 2.3   | JKWF-11  | 12/09       | 프롬프트 설정 UI 구현          | 7            | Frontend Dev |

---

#### 2025년 12월 3-4주차 - 통합 테스트 및 배포 준비

**목표**:
- 전체 Epic 통합 테스트
- End-to-End 테스트 (E2E)
- 성능 최적화
- 배포 준비 및 문서화

---

### 역할별 작업량 요약

#### 👨‍💻 Backend Developer

- **완료된 Story Points**: 63 (Epic 0: 21 + Epic 5: 42) ✅
- **예정된 Story Points**: 43 (Epic 2, 3, 4)
- **총 Story Points**: 106
- **주요 Phase**: Phase 0 (완료), Phase 5 (완료), Phase 2, 3, 4
- **완료된 작업** ✅:
  - **Epic 0: API 표준화 및 응답 형식 통일** (21 points, 2025-10-29)
    - Auth, Admin, Reports 라우터 마이그레이션 (14개 엔드포인트)
    - ErrorCode 상수 추가 (11개)
    - 테스트 코드 업데이트 (30개 테스트)
    - CLAUDE.md 문서화
  - **Epic 5: 대화형 시스템 백엔드 개발** (42 points, 2025-10-31)
    - 도메인 구조 변경 (5개 새 모델, 5개 DB 레이어)
    - Topics/Messages/Artifacts API 개발 (14개 엔드포인트)
    - 메시지 체이닝 기능 구현
    - 아티팩트 다운로드 API (HWPX, Markdown)
    - 테스트 인프라 구축 (GitHub Actions, pytest)
    - 6개 새 테스트 파일, 44개 테스트 통과
- **예정된 작업**:
  - 웹 검색 API 통합 (Epic 4) 🔄 진행 중
  - 프롬프트 커스터마이징 API 개발 (Epic 2)
  - 템플릿 관리 시스템 CRUD API (Epic 3)

#### 👩‍💻 Frontend Developer

- **완료된 Story Points**: 26 (Epic 1) ✅
- **예정된 Story Points**: 21 (Epic 2, 3, 4의 프론트엔드 부분)
- **총 Story Points**: 47
- **주요 Phase**: Phase 1 (완료), Phase 2, 3, 4
- **완료된 작업** ✅:
  - **Epic 1: React 마이그레이션 및 채팅형 UI 구현** (26 points, 2025-10-31)
    - React 19 + TypeScript + Vite 프로젝트 설정
    - Ant Design + Tailwind CSS 통합
    - 채팅형 UI 컴포넌트 개발
    - 사용자 인증 React 통합
    - 백엔드 대화형 API 연동 (Epic 5 활용)
    - API 표준 응답 형식 TypeScript 타입 정의
- **예정된 작업**:
  - 웹 검색 UI 구현 (Epic 4)
  - 프롬프트 설정 UI 개발 (Epic 2)
  - 템플릿 관리 인터페이스 구현 (Epic 3)

---

## 🧪 테스트 계획

### Unit Tests

**완료** ✅:

- Backend API 엔드포인트 테스트 (pytest)
  - 52 passed, 3 skipped
  - 커버리지: 78%
- React 컴포넌트 테스트 (Jest + React Testing Library)
  - 채팅 컴포넌트 테스트
  - 인증 플로우 테스트

**예정**:

- 프롬프트 프리셋 API 테스트 (Epic 2)
- 템플릿 CRUD API 테스트 (Epic 3)
- 웹 검색 API 테스트 (Epic 4)

### Integration Tests

**완료** ✅:

- Frontend ↔ Backend API 통합 테스트
  - Topics API 연동
  - Messages API 연동
  - Artifacts 다운로드

**예정**:

- 템플릿 생성 → 보고서 생성 E2E 테스트 (Epic 3)
- 웹 검색 → 보고서 생성 E2E 테스트 (Epic 4)

### User Acceptance Test (UAT)

**완료** ✅:

- 채팅형 UI 사용성 테스트
- 보고서 생성 및 다운로드 테스트
- 사용자 인증 플로우 테스트

**예정**:

- 템플릿 관리 기능 테스트 (Epic 3)
- 프롬프트 커스터마이징 테스트 (Epic 2)
- 웹 검색 기능 테스트 (Epic 4)

---

## 📊 우선순위 매트릭스

| Epic                       | Jira Epic | Jira Stories      | Priority | Story Points | 상태            | 담당자       |
| -------------------------- | --------- | ----------------- | -------- | ------------ | --------------- | ------------ |
| **Epic 0** (API 표준화)    | JKWF-20   | JKWF-21 ~ 25      | Critical | 21           | ✅ 완료         | Backend Dev  |
| **Epic 5** (대화형 백엔드) | JKWF-26   | JKWF-27 ~ 31      | Critical | 42           | ✅ 완료         | Backend Dev  |
| **Epic 1** (React UI)      | JKWF-1    | JKWF-5 ~ 8        | Highest  | 26           | ✅ 완료         | Frontend Dev |
| **Epic 4** (웹 검색)       | JKWF-4    | JKWF-16 ~ 18      | Low      | 18           | 🔄 진행 중      | Backend Dev  |
| **Epic 3** (템플릿 관리)   | JKWF-3    | JKWF-12 ~ 15      | High     | 29           | 📋 대기         | Backend Dev  |
| **Epic 2** (프롬프트)      | JKWF-2    | JKWF-9 ~ 11       | Medium   | 18           | 📋 대기         | Both         |

**Epic 0 완료 내역** (2025-10-29) ✅:
- API 표준 응답 형식 100% 준수 달성
- 14개 엔드포인트 마이그레이션 (Auth, Admin, Reports)
- 전체 테스트 통과율 100% (52 passed)

**Epic 5 완료 내역** (2025-10-31) ✅:
- 대화형 시스템으로 완전 전환
- 14개 새로운 API 엔드포인트 개발 (Topics, Messages, Artifacts)
- 메시지 체이닝 및 다운로드 기능 구현
- 테스트 커버리지 78% 달성 (44 passed)

**Epic 1 완료 내역** (2025-10-31) ✅:
- React 19 + TypeScript + Vite 프로젝트 구축 완료
- Ant Design + Tailwind CSS 통합
- 채팅형 UI 완전 구현
- 백엔드 대화형 API 완벽 연동
- 사용자 인증 시스템 통합

### 역할별 Epic 담당 분포

#### Backend Developer 주도 Epic

- **Epic 0**: API 표준화 ✅ (완료 - Backend 100%)
- **Epic 5**: 대화형 시스템 백엔드 개발 ✅ (완료 - Backend 100%)
- **Epic 2**: 프롬프트 커스터마이징 (Backend 60% / Frontend 40%)
- **Epic 3**: 템플릿 관리 시스템 (Backend 70% / Frontend 30%)
- **Epic 4**: 웹 검색 기능 (Backend 80% / Frontend 20%) 🔄 진행 중

#### Frontend Developer 주도 Epic

- **Epic 1**: React 마이그레이션 ✅ (완료 - Frontend 90% / Backend 10%)

#### 협업 포인트

- **Week 1-2** ✅: 백엔드 API 표준화 (Backend 완료)
- **Week 3-4** ✅: 백엔드 대화형 시스템 구축 (Backend 완료)
- **Week 4-5** ✅: 프론트엔드 채팅 UI와 백엔드 API 연동 완료 (Frontend + Backend 협업 완료)
- **Week 6-7** (예정): 웹 검색 기능 통합 (Backend 주도, Frontend UI 지원)
- **Week 8-9** (예정): 프롬프트 프리셋 기능 (Backend API + Frontend UI 동시 개발)
- **Week 10-11** (예정): 템플릿 관리 통합 테스트 (Both)

---

## 🚀 배포 전략

### Development

**현재 환경** ✅:

- React: `npm run dev` (Vite) - http://localhost:5173
- Backend: `uv run uvicorn app.main:app --reload` - http://localhost:8000

**개발 서버 실행**:

```bash
# Terminal 1 - Backend
cd backend
uv run uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# Terminal 2 - Frontend
cd frontend
npm run dev
```

### Production

**예정**:

- Frontend: Vercel 또는 Netlify
  - `npm run build` → `dist/` 폴더 배포
- Backend: Render.com, AWS EC2, 또는 Docker
  - Docker 컨테이너화
  - Gunicorn + Uvicorn workers
- Database: SQLite → PostgreSQL 마이그레이션 고려
  - Render.com PostgreSQL 또는 AWS RDS

**Docker 구성** (예정):

```dockerfile
# Backend Dockerfile
FROM python:3.12-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8000"]
```

---

## 📝 추가 개선 사항 (Nice-to-Have)

1. **실시간 스트리밍 응답** (WebSocket)

   - Claude API의 스트리밍 응답을 실시간으로 채팅에 표시
   - Epic 5에서 준비 완료, Frontend 구현만 필요

2. **보고서 버전 관리** ✅ (부분 완료)

   - 동일 주제의 보고서를 여러 버전으로 저장 (Artifact 모델에서 구현)
   - 버전 비교 UI 개발 필요

3. **협업 기능**

   - 팀원과 템플릿 공유 (Epic 3에서 `is_public` 필드로 지원 예정)
   - 보고서 공동 작성

4. **다국어 지원**

   - 영어, 한국어 UI 전환

5. **보고서 미리보기**
   - HWPX 파일을 브라우저에서 미리보기 (어려움: HWPX → HTML/PDF 변환 필요)

---

## 📌 참고 자료

- [FastAPI 공식 문서](https://fastapi.tiangolo.com/)
- [React 공식 문서](https://react.dev/)
- [Claude API 문서](https://docs.anthropic.com/claude/reference/getting-started-with-the-api)
- [Google Custom Search API](https://developers.google.com/custom-search/v1/overview)
- [Ant Design 문서](https://ant.design/)
- [Zustand 문서](https://zustand-demo.pmnd.rs/)

---

## ✅ 체크리스트 (착수 전 확인)

### 공통 (Both)

- [x] Git 브랜치 전략 수립 (feature/JKWF-XX, dev, main)
- [x] 코드 리뷰 프로세스 정의
- [ ] 주간 미팅 일정 수립 (매주 월요일 오전 10시 권장)
- [x] 커뮤니케이션 채널 설정
- [x] Jira 프로젝트 생성 및 Epic/Story 등록 ✅
- [x] 개발 환경 공유 문서 작성 (CLAUDE.md)

### Backend Developer

- [x] FastAPI 개발 환경 설정 확인 ✅
- [ ] SQLite → PostgreSQL 마이그레이션 계획 수립
- [x] Claude API 키 발급 및 테스트 ✅
- [ ] Google Custom Search API 키 발급 (Epic 4)
- [x] API 문서 자동화 (Swagger/ReDoc) 설정 ✅
- [x] 데이터베이스 마이그레이션 스크립트 준비 ✅
- [x] pytest 테스트 환경 구축 ✅
- [x] CORS 설정 확인 (Frontend URL 화이트리스트) ✅

### Frontend Developer

- [x] React 프로젝트 생성 (Vite) ✅
- [x] TypeScript 사용 ✅
- [x] UI 라이브러리 선택 (Ant Design + Tailwind CSS) ✅
- [x] 디자인 시스템 정의 (색상, 폰트, 컴포넌트 가이드) ✅
- [x] 상태 관리 라이브러리 선택 (Zustand) ✅
- [x] React Router 설정 ✅
- [x] Axios 클라이언트 설정 ✅
- [ ] Jest + React Testing Library 테스트 환경 구축
- [ ] 와이어프레임/프로토타입 준비 (Figma 등)

### 배포 및 DevOps (선택)

- [x] CI/CD 파이프라인 설정 (GitHub Actions) ✅
- [ ] Frontend 배포 환경 선택 (Vercel, Netlify)
- [ ] Backend 배포 환경 선택 (Render.com, AWS)
- [x] 환경 변수 관리 (.env, .env.example) ✅
- [ ] Docker 컨테이너화

---

## 📞 팀 커뮤니케이션 가이드

### 일일 스탠드업 (Optional)

- **시간**: 매일 오전 10시 (15분)
- **내용**: 어제 한 일, 오늘 할 일, 블로커

### 주간 스프린트 리뷰

- **시간**: 매주 금요일 오후 4시 (1시간)
- **내용**: 완료된 Story 데모, 다음 주 계획

### 블로킹 이슈 처리

- Backend API가 준비되지 않아 Frontend 개발이 막힌 경우:
  - ✅ 해결됨: Epic 5 완료로 대화형 API 모두 준비
  - Mock API 또는 JSON Server 사용 (필요 시)
  - Backend Developer에게 우선순위 조정 요청
- Frontend UI가 준비되지 않아 Backend 테스트가 어려운 경우:
  - ✅ 해결됨: Swagger UI 활용 중
  - Postman 또는 curl로 API 테스트

### 코드 리뷰 프로세스

1. Feature 브랜치에서 작업 (예: `feature/JKWF-16-web-search`)
2. PR 생성 (제목: `[JKWF-16] 웹 검색 API 선택 및 연동`)
3. 상대방 개발자가 코드 리뷰
4. 승인 후 `dev` 브랜치 머지
5. 주 단위로 `dev` → `main` 머지

---

**문서 버전**: 3.0
**최종 수정일**: 2025-11-01
**작성자**: Claude Code (AI Assistant)
**수정 내역**:

- v3.0 (2025-11-01): backlog_20251012.md 구조 기반 전면 재작성
  - **Jira MCP 실제 데이터 100% 반영**
  - backlog_20251012.md의 전체 구조와 섹션 순서 정확히 반영
  - Epic 0, Epic 5, Epic 1 완료 상태 반영 (2025-10-29 ~ 11-01)
  - JKWF-16 (Story 4.1) 진행 중 상태 반영
  - 모든 Jira Key 매핑 업데이트
  - 역할별 작업량, 테스트 계획, 우선순위 매트릭스 업데이트
  - 개발 일정을 실제 완료 현황에 맞게 수정
  - 완료된 Epic별 상세 요약 추가

- v2.2 (2025-11-01): 상세 백로그 섹션 추가
  - Epic 0, 5, 1 상세 Story 정보 추가
  - Epic 2, 3, 4 상세 Story 정보 추가

- v2.1 (2025-11-01): Jira 실제 상태 반영 버전
  - Epic 1 (JKWF-1) 완료 상태로 업데이트
  - Stories JKWF-5~8 완료 반영

- v2.0 (2025-11-01): Jira JKWF 프로젝트 연동 버전
  - Jira 프로젝트 정보 추가
  - Epic 및 Story에 Jira Key 할당
